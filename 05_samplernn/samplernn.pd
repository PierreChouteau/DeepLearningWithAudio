#N canvas 228 23 902 801 12;
#X obj 605 145 pyext samplernn_pd samplernn @detach 1;
#X obj 686 174 print samplernn output;
#N canvas 0 50 450 250 (subpatch) 0;
#X array sound1 63936 float 2;
#X coords 0 1 63936 -1 100 80 1 0 0;
#X restore 637 282 graph;
#X obj 605 169 list trim;
#N canvas 72 96 450 250 (subpatch) 0;
#X array sound2 63936 float 2;
#X coords 0 1 63936 -1 100 80 1 0 0;
#X restore 739 282 graph;
#X obj 706 205 s \$0-out;
#X obj 707 112 r \$0-in;
#X obj 9 6 cnv 15 570 200 empty empty empty 20 12 0 14 -233017 -66577
0;
#X obj 20 174 s \$0-in;
#X text 16 31 --python: path to the python executable of your SampleRNN
environment, f 78;
#X text 16 51 --: all arguments after this are passed to the worker
script, f 78;
#X text 16 71 --num_seqs: number of sequences to generate simultaneously
, f 78;
#X text 16 91 --ckpt_dir: path to checkpoint directory, f 78;
#X msg 20 121 load --python /usr/local/Caskroom/miniconda/base/envs/samplernn/bin/python
-- --num_seqs 2 --ckpt_dir pruu3_16k;
#X text 16 11 1 - load a SampleRNN model, f 78;
#X obj 9 217 cnv 15 570 220 empty empty empty 20 12 0 14 -233017 -66577
0;
#X obj 20 404 s \$0-in;
#X text 16 242 --out_sr: output sample rate, f 78;
#X text 16 302 --out: name of output array, f 78;
#X text 16 322 the number of --temp and --out arguments should match
the --num_seqs given to load, f 78;
#X text 16 222 2 - generate audio, f 78;
#X text 16 262 --dur: output audio duration in (whole) seconds, f
78;
#X obj 9 448 cnv 15 570 340 empty empty empty 20 12 0 14 -233017 -66577
0;
#X obj 20 756 s \$0-in;
#X text 16 453 3 - expressive temperature, f 78;
#X text 16 507 Env(levels \, times \, curves), f 78;
#X text 16 565 levels: temperature values that the envelope will move
through, f 78;
#X text 16 605 curves: curve shapes of each segment. 0 is linear \,
>0 is exponential \, <0 is logarithmic, f 78;
#X text 16 639 with N levels \, you should have N-1 times and curves.
, f 78;
#X msg 20 366 generate --out_sr 16000 --dur 4 --temp 0.8 --out sound1
--temp 1 --out sound2;
#X text 16 473 you can vary the temperature over time by passing a
SuperCollider-style envelope instead of a single number \, in the format
, f 78;
#X text 16 527 where each of levels \, times and curves is a list of
numbers enclosed by square brackets and separated by commas. (see example
below), f 78;
#X text 16 659 in Pd we also have to escape all the special characters
with backslashes \, so the messages get a bit ugly..., f 78;
#X text 16 585 times: durations in seconds of each segment (should
add up to dur or less), f 78;
#X msg 20 703 generate --out_sr 16000 --dur 4 --temp Env([0.7\\\,1.05]\\\,[4]\\\,[-2])
--out sound1 --temp Env([0.8\\\,1\\\,0.7]\\\,[2\\\,2]\\\,[0\\\,0])
--out sound2;
#X obj 590 478 cnv 15 300 310 empty empty empty 20 12 0 14 -233017
-66577 0;
#X msg 660 519 sound1;
#X msg 763 519 sound2;
#N canvas 990 494 450 300 play 0;
#X obj 80 219 tabread4~;
#X obj 51 18 inlet;
#X obj 51 40 t b a;
#X obj 135 181 vline~;
#X obj 211 72 expr $f1-2;
#X obj 135 130 pack f f;
#X msg 135 159 1 \, \$1 \$2;
#X obj 135 107 f;
#X obj 210 5 r \$0-out;
#X obj 210 49 unpack s f f;
#X obj 287 72 expr $f2/$f1*1000;
#X floatatom 223 138 10 0 0 0 - - -;
#X floatatom 315 138 10 0 0 0 - - -;
#X text 220 119 sample rate;
#X text 312 119 length;
#X msg 62 154 set \$1;
#X obj 62 132 pack s;
#X obj 96 254 outlet~;
#X obj 210 27 route generated;
#X connect 0 0 17 0;
#X connect 1 0 2 0;
#X connect 2 0 7 0;
#X connect 2 1 16 0;
#X connect 3 0 0 0;
#X connect 4 0 7 1;
#X connect 5 0 6 0;
#X connect 6 0 3 0;
#X connect 7 0 5 0;
#X connect 8 0 18 0;
#X connect 9 1 10 0;
#X connect 9 1 11 0;
#X connect 9 2 10 1;
#X connect 9 2 4 0;
#X connect 9 2 12 0;
#X connect 10 0 5 1;
#X connect 15 0 0 0;
#X connect 16 0 15 0;
#X connect 18 0 9 0;
#X coords 0 -1 1 1 170 60 1 220 100;
#X restore 654 554 pd play;
#X obj 654 629 dac~;
#N canvas 441 310 450 263 save 0;
#X obj 51 18 inlet;
#X obj 51 40 t b a;
#X obj 210 5 r \$0-out;
#X obj 210 49 unpack s f f;
#X floatatom 223 138 10 0 0 0 - - -;
#X text 220 119 sample rate;
#X obj 210 27 route generated;
#X obj 45 218 soundfiler;
#X obj 45 165 pack s s f;
#X obj 29 86 savepanel;
#X obj 127 218 print;
#X obj 69 65 pack s;
#X msg 45 190 write -wave -rate \$3 \$1 \$2;
#X connect 0 0 1 0;
#X connect 1 0 9 0;
#X connect 1 1 11 0;
#X connect 2 0 6 0;
#X connect 3 1 4 0;
#X connect 3 1 8 2;
#X connect 6 0 3 0;
#X connect 8 0 12 0;
#X connect 9 0 8 0;
#X connect 11 0 8 1;
#X connect 12 0 10 0;
#X connect 12 0 7 0;
#X coords 0 -1 1 1 170 60 1 220 100;
#X restore 654 705 pd save;
#X msg 662 667 sound1;
#X msg 765 667 sound2;
#X text 599 486 4 - play/save the sounds;
#X text 16 282 --temp: sampling temperature (interesting range depends
on model \, try 0.7-1.1), f 78;
#X connect 0 0 3 0;
#X connect 3 0 1 0;
#X connect 3 0 5 0;
#X connect 6 0 0 1;
#X connect 13 0 8 0;
#X connect 29 0 16 0;
#X connect 34 0 23 0;
#X connect 36 0 38 0;
#X connect 37 0 38 0;
#X connect 38 0 39 0;
#X connect 38 0 39 1;
#X connect 41 0 40 0;
#X connect 42 0 40 0;
